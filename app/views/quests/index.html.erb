<p id="notice"><%= notice %></p>

<div class="container mx-auto">
  <div class="flex flex-col text-center w-full mt-8 mb-8">
    <h1 class="sm:text-4xl text-3xl font-medium title-font mb-2 text-gray-900">クエスト一覧</h1>
  </div>
  <div class="lg:w-2/3 w-full mx-auto overflow-auto">
  <div>
      <%= search_form_for @q, url: search_quests_path do |f| %>
        <%= f.label :contents_tags_id_eq, 'クエスト検索', :class => "text-sm text-gray-900" %>
        <%= f.collection_select :contents_tags_id_eq, Tag.all, :id, :name, {include_blank: "全てのクエスト" } %>
        <%= f.submit '検索' %>
      <% end %>
  </div>
    <table class="table-auto w-full text-left whitespace-no-wrap">
      <thead>
        <tr>
          <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-xl bg-gray-200 rounded-tl rounded-bl text-center">タイトル</th>
          <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-xl bg-gray-200 text-center">開始日</th>
          <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-xl bg-gray-200 text-center">終了日</th>
          <th class="w-10 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-200 rounded-tr rounded-br"></th>
          <th class="w-10 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-200 rounded-tr rounded-br"></th>
          <th class="w-10 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-200 rounded-tr rounded-br"></th>
        </tr>
      </thead>
      <tbody>
<!--
        <% @quests.each do |quest| %>
<section class="text-gray-600 body-font">
  <div class="container py-24 mx-auto">
    <div class="flex flex-col text-center w-full mb-20">
      <h1 class="sm:text-4xl text-3xl font-medium title-font mb-2 text-gray-900">クエスト一覧</h1>
    </div>
    <div class="lg:w-2/3 w-full mx-auto overflow-auto">
    <div>
      <%#= search_form_for @q, url: search_quests_path do |f| %>
        <%#= f.label :contents_tags_id_eq, 'クエスト検索', :class => "text-sm text-gray-900" %>
        <%#= f.collection_select :contents_tags_id_eq, Tag.all, :id, :name, {include_blank: "全てのクエスト" } %>
        <%#= f.submit '検索' %>
      <% end %>
    </div>
      <table class="table-auto w-full text-left whitespace-no-wrap">
        <thead>
          <tr>
            <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-200 rounded-tl rounded-bl">タイトル</th>
            <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-200">開始日</th>
            <th class="px-4 py-3 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-200">終了日</th>
            <th class="w-10 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-200 rounded-tr rounded-br"></th>
            <th class="w-10 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-200 rounded-tr rounded-br"></th>
            <th class="w-10 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-200 rounded-tr rounded-br"></th>
          </tr>
        </thead>
        <tbody>
        -->
          <% @quests.each do |quest| %>
          <tr>
            <td class="text-lg text-gray-900"><%= link_to quest.title, quest_path(quest), class:"block px-4 py-3" %></td>
            <td class="text-lg text-gray-900"><%= link_to quest.created_at.strftime("%Y-%m-%d %H:%M"), quest_path(quest), class:"block px-4 py-3" %></td>
            <td class="text-lg text-gray-900"><%= link_to quest.finished_at.strftime("%Y-%m-%d %H:%M"), quest_path(quest), class:"block px-4 py-3" %></td>
            <td class="text-lg text-gray-900"><%= link_to '確認', quest_path(quest), class:"block px-4 py-3" %></td>
            <% if current_user.owner?(quest.id) %>
              <td class="text-lg text-gray-900"><%= link_to '編集', edit_quest_path(quest), class:"block px-4 py-3" %></td>
              <td class="text-lg text-gray-900"><%= link_to '削除', quest, method: :delete, data: { confirm: '本当に削除しますか？' }, class:"block px-4 py-3" %></td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
  <div class="flex pl-4 mt-4 lg:w-2/3 w-full mx-auto">
    <%= link_to 'クエスト作成', new_quest_path, :class => "flex ml-auto bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded", :style => "color:white !important;" %>
  </div>
</div>
